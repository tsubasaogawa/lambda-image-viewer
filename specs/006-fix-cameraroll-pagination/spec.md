# Feature Specification: カメラロールのページネーション修正

**Feature Branch**: `006-fix-cameraroll-pagination`
**Created**: 2025-11-17
**Status**: Draft
**Input**: User description: "camera roll の修正依頼。現状の問題として、ページネーションすると本来は古い写真が出てくることを期待するが、実際は新しい画像も出てきてしまう点がペインに感じている。この問題を解消することはできるだろうか。どのような技術を使って解消していくかは議論しながら深めていきたい。よろしく。"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 正しい時系列での写真表示 (Priority: P1)

ユーザーがカメラロールを閲覧し、ページネーションを利用して過去の写真を遡る際に、写真は常に撮影日が古い順（降順）で表示されるべきです。現在のように新しい写真が混在することはなく、シームレスな閲覧体験を提供します。

**Why this priority**: 現在のバグはユーザー体験を著しく損なっており、写真を探す上で混乱を招くため、最優先で修正が必要です。

**Independent Test**: ページネーションの「次へ」ボタンをクリックするたびに、表示される写真が常に現在表示されている写真よりも古い日付のものだけで構成されていることを確認することでテスト可能です。

**Acceptance Scenarios**:

1. **Given** ユーザーがカメラロールの初回ページを開いている, **When** 「次へ」ボタンをクリックする, **Then** 表示されるすべての写真の撮影日が、初回ページの写真よりも古い。
2. **Given** ユーザーがカメラロールの2ページ目を表示している, **When** 「次へ」ボタンをクリックする, **Then** 表示されるすべての写真の撮影日が、2ページ目の写真よりも古い。

### Edge Cases

- 最後のページに到達した場合、「次へ」ボタンは非表示または無効化される。
- 写真データが存在しない場合、その旨を伝えるメッセージが表示される。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: カメラロールの写真は、撮影日の降順（新しいものが先）で初期表示されなければならない。
- **FR-002**: ページネーションで次のページに遷移した場合、表示される写真は常に前のページの写真より撮影日が古いものでなければならない。
- **FR-003**: ページネーションの各ページで表示される写真の順序は、撮影日の降順でなければならない。
- **FR-004**: 最後のページまで到達した場合、それ以上過去の写真がないことをユーザーに示唆する（例：「次へ」ボタンの無効化）。

### Key Entities *(include if feature involves data)*

- **Image**: `id`, `timestamp` (撮影日時), `url` などの属性を持つ。

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ページネーションを利用してカメラロールを1ページ目から最終ページまで閲覧した際に、写真の時系列が一度も逆転しない。
- **SC-002**: ユーザーが目的の写真を探すのにかかる時間が、修正前と比較して感覚的に短縮される（定性的な評価）。
- **SC-003**: ページネーションの動作に関するユーザーからの問い合わせが0件になる。